# Generator Service

-------------

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Apache Velocity —à–∞–±–ª–æ–Ω–æ–≤. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–∞—Ä—Å–∏–Ω–≥ JSON –∏ XSD —Å—Ö–µ–º, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é VM —à–∞–±–ª–æ–Ω–æ–≤ –∏ –∏—Ö –≤–∞–ª–∏–¥–∞—Ü–∏—é.

-------------

## –ó–∞—á–µ–º –≤—ã–¥–µ–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ?

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. **–°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**
   - –ê–ª–≥–æ—Ä–∏—Ç–º—ã –º–∞–ø–ø–∏–Ω–≥–∞ (Levenshtein distance, fuzzy matching)
   - –ü–∞—Ä—Å–∏–Ω–≥ —Å–ª–æ–∂–Ω—ã—Ö XML/JSON —Å—Ç—Ä—É–∫—Ç—É—Ä
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –ø–æ —à–∞–±–ª–æ–Ω–∞–º
   - –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏–∫–∞

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –†–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–∞—Ä—Å–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö XSD)
   - –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ –±–æ–ª–µ–µ –º–æ—â–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö

3. **Stateless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –ù–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ (—Ç–æ–ª—å–∫–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç)
   - –õ–µ–≥–∫–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
   - –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

4. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ**
   - –ú–æ–∂–Ω–æ —É–ª—É—á—à–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –º–∞–ø–ø–∏–Ω–≥–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (YAML, Protobuf)
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

-------------

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Framework**: FastAPI (Python 3.11)
- **JSON Parsing**: jsonschema, json-ref-dict
- **XML/XSD Parsing**: lxml, xmlschema
- **Field Mapping**: rapidfuzz (Levenshtein distance, token sort ratio)
- **Template Generation**: Custom VM generator
- **Validation**: Apache Velocity syntax validation

-------------

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
DEFAULT_CONFIDENCE_THRESHOLD=0.5
MAX_SCHEMA_SIZE=10485760  # 10 MB
ENABLE_FUZZY_MATCHING=true

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞
LEVENSHTEIN_WEIGHT=0.3
TOKEN_SORT_WEIGHT=0.4
SEMANTIC_WEIGHT=0.3
```

-------------

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

- **BFF Service** ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **Files Service** ‚Üí –Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç —á–µ—Ä–µ–∑ BFF)
- **Projects Service** ‚Üí –Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–º–∞–ø–ø–∏–Ω–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ BFF)

